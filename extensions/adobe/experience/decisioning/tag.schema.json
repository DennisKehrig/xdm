{
  "meta:license": [
    "Copyright 2018 Adobe Systems Incorporated. All rights reserved.",
    "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at https://creativecommons.org/licenses/by/4.0/"
  ],
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "https://ns.adobe.com/experience/decisioning/tag",
  "meta:abstract": false,
  "meta:extensible": true,
  "meta:extends": ["https://ns.adobe.com/xdm/data/record"],
  "type": "object",
  "title": "Tag",
  "description": "A Tag is a keyword or term assigned to a piece of information. Tags in this domain are reusable, searchable and identifiable keywords, i.e. their identity gets attached to other objects not simply the string that is used for human consumption. Therefore the same tag could have multiple, human readable representations. Tags can also be classified or arranged in an order that conveys additional semantics. This semantics is, however, not specified in this domain.",
  "definitions": {
    "tag-datatype": {
      "properties": {
        "schema:name": {
          "type": "string",
          "title": "Tag Name",
          "description": "The Tag's external human-readable representation to clients. Property has the semantic of schema.org's 'name' property defined on http://schema.org/Thing"
        }
      }
    },
    "tags-relationship-mixin": {
      "meta:intendedToExtend": [
        "https://ns.adobe.com/experience/decisioning/option"
      ],
      "properties": {
        "https://ns.adobe.com/experience/decisioning/tags": {
          "$id": "#tag-array-datatype",
          "type": "array",
          "title": "Tags",
          "description": "A relationship to an array of tag objects. The tags are used in filter expressions to constrain set of objects which hold that relationship",
          "items": {
            "type": "string",
            "format": "uri-reference",
            "description": "An identifier of a Tag object. The value is the @id of the Tag that is referenced. See Tag schema https://ns.adobe.com/experience/decisioning/tagging#/definitions/tag",
            "meta:descriptors": [
              {
                "@type": "xdm:manyToMany",
                "xdm:destinationSchema": "https://ns.adobe.com/experience/decisioning/tag",
                "xdm:destinationProperty": "@id"
              }
            ]
          }
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "https://ns.adobe.com/xdm/common/extensible#/definitions/@context"
    },
    {
      "$ref": "https://ns.adobe.com/xdm/data/record"
    },
    {
      "$ref": "#/definitions/tag-datatype"
    },
    {
      "required": ["@id"]
    },
    {
      "properties": { "@id": { "readOnly": true } }
    }
  ]
}

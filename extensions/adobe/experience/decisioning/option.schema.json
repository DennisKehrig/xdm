{
  "meta:license": [
    "Copyright 2018 Adobe Systems Incorporated. All rights reserved.",
    "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at https://creativecommons.org/licenses/by/4.0/"
  ],
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "https://ns.adobe.com/experience/decisioning/option",
  "type": "object",
  "title": "Option",
  "meta:abstract": false,
  "meta:extensible": true,
  "meta:extends": [
    "https://ns.adobe.com/xdm/data/record",

    "https://ns.adobe.com/experience/decisioning/lifecycle-status#/definitions/lifecycle-status-mixin",
    "https://ns.adobe.com/experience/decisioning/content-representation#/definitions/content-representation-mixin",
    "https://ns.adobe.com/experience/decisioning/tag#/definitions/tags-relationship-mixin"
  ],
  "description": "This is the base schema for the alternatives that a decision choses from.",
  "definitions": {
    "option-datatype": {
      "properties": {
        "schema:name": {
          "type": "string",
          "title": "Name",
          "description": "The option's name. A human readable string to denote one or more options. Property has the semantic of schema.org's 'name' property defined on http://schema.org/Thing"
        },
        "xdm:optionData": {
          "type": "object",
          "additionalProperties": {
            "type": "object"
          },
          "title": "Option Data Properties",
          "description": "Option data is a key-value map that allows users to attach properties to individual options. Those values can be used in rules and models to select or reject, boost or burry that option. Any string can be used as a key name, the values are JSON objects. An example of such property would be the average acceptance rate of an option viz-a-viz a particular profile segment."
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "https://ns.adobe.com/xdm/common/extensible#/definitions/@context"
    },
    {
      "$ref": "https://ns.adobe.com/xdm/data/record"
    },
    {
      "$ref": "#/definitions/option-datatype"
    },
    {
      "$ref": "https://ns.adobe.com/experience/decisioning/lifecycle-status#/definitions/lifecycle-status-mixin"
    },
    {
      "$ref": "https://ns.adobe.com/experience/decisioning/content-representation#/definitions/content-representation-mixin"
    },
    {
      "$ref": "https://ns.adobe.com/experience/decisioning/tag#/definitions/tags-relationship-mixin"
    },
    {
      "required": ["@id"]
    },
    {
      "properties": { "@id": { "readonly": true } }
    }
  ]
}

{
  "meta:license": [
    "Copyright 2019 Adobe Systems Incorporated. All rights reserved.",
    "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at https://creativecommons.org/licenses/by/4.0/"
  ],
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "https://ns.adobe.com/experience/decisioning/algorithm",
  "meta:abstract": true,
  "meta:extensible": true,
  "meta:extends": ["https://ns.adobe.com/xdm/data/record"],
  "type": "object",
  "title": "Decision Algorithm",
  "description": "A decision algorithm is a step in the overall decision process that takes a candidate set of options and XDM context objects as such as a profile to either rank or score those candidate options or to classify then as approproate/inappropriate, i.o rule them eligible/ineligible.",
  "definitions": {
    "algorithm-datatype": {
      "properties": {
        "@type": {
          "$ref": "#/definitions/algorithm-type",
          "description": "Type of the algorithm."
        },
        "schema:name": {
          "type": "string",
          "title": "Name",
          "description": "Algorithm name. The name is displayed in various user interfaces. Property has the semantic of schema.org's name property defined on http://schema.org/Thing"
        },
        "xdm:outputType": {
          "$ref": "#/definitions/output-type",
          "description": "Type of the output value: score, class or rank, association."
        },
        "xdm:instance": {
          "type": "string",
          "format": "uri-reference",
          "title": "An instantiation of the Recipe/Model with its configuration to process input data",
          "description": "Algorithm, sometimes called recipes or models have concreate instatiations with configuration parameters (e.g the coefficients of linear regressor). Those instances can be invoked at decision time time score an option, classify or rank it against other options. An instance is prepared or trained for a particular activity/set of activities. The instance reference is used as the API for the algorithm at invocation time."
        }
      }
    },
    "algorithm-type": {
      "type": "string",
      "format": "uri",
      "title": "Algorithm type",
      "description": "The type of the algorithm. Sometimes called the model class or the representation.",
      "meta:enum": {
        "https://ns.adobe.com/experience/decisioning/algorithm-type-decision-tree": "Decision tree",
        "https://ns.adobe.com/experience/decisioning/algorithm-type-naive-bayes": "Naive Bayes",
        "https://ns.adobe.com/experience/decisioning/algorithm-type-logistic-regressor": "Logistic regressor",
        "https://ns.adobe.com/experience/decisioning/algorithm-type-k-nearest-neighbors": "K-nearest neighbors",
        "https://ns.adobe.com/experience/decisioning/algorithm-type-support-vector-machine": "Support vector machine",
        "https://ns.adobe.com/experience/decisioning/algorithm-type-neural-network": "Neural network",
        "https://ns.adobe.com/experience/decisioning/algorithm-type-linear-regressor": "Linear regressor",
        "https://ns.adobe.com/experience/decisioning/algorithm-type-ordinal-regressor": "Ordinal regressor",
        "https://ns.adobe.com/experience/decisioning/algorithm-type-factorization-machine": "Factorization machine",
        "https://ns.adobe.com/experience/decisioning/algorithm-type-random-forest": "Random forrest",
        "https://ns.adobe.com/experience/decisioning/algorithm-type-ensemble": "Ensemble of algorithms"
      }
    },
    "output-type": {
      "type": "string",
      "format": "uri",
      "title": "Algorithm output type",
      "description": "The type outcome that is expected of the algorithm. Sometimes called the use case for which a prediction is made.",
      "meta:enum": {
        "https://ns.adobe.com/experience/decisioning/algorithm-output-type-rank": "A list of n top-ranked options. The algorithm is a ranker that produces a list of options in a ranked order given various inputs. It is not the goal of the algorithm to assign each option a rational number",
        "https://ns.adobe.com/experience/decisioning/algorithm-output-type-score": "The output is a rational number for each decision option and used as a score or probability. The algorithm is a regressor or predictor.",
        "https://ns.adobe.com/experience/decisioning/algorithm-output-type-class": "The output is a label for each decision option that represents the predicted class. The algorithm is a classifier.",
        "https://ns.adobe.com/experience/decisioning/algorithm-output-type-rule": "A list of association rules. The algorithm is used to create rules. The rules generated by the algorithm map various inputs including profile contexts and other options and to one or more decision options."
      }
    },
    "algorithm-mixin": {
      "properties": {
        "https://ns.adobe.com/experience/decisioning/algorithm": {
          "$ref": "https://ns.adobe.com/experience/decisioning/algorithm",
          "description": "An descriptor of a learned or coded model for the purpose of selecting the best option out of a set of qualifying options."
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "https://ns.adobe.com/xdm/common/extensible#/definitions/@context"
    },
    {
      "$ref": "https://ns.adobe.com/xdm/data/record"
    },
    {
      "$ref": "#/definitions/algorithm-datatype"
    },
    {
      "required": ["@id", "schema:name"]
    }
  ]
}

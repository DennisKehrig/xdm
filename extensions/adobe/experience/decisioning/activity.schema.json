{
  "meta:license": [
    "Copyright 2019 Adobe Systems Incorporated. All rights reserved.",
    "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at https://creativecommons.org/licenses/by/4.0/"
  ],
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "https://ns.adobe.com/experience/decisioning/activity",
  "meta:abstract": true,
  "meta:extensible": true,
  "meta:extends": ["https://ns.adobe.com/xdm/data/record"],
  "type": "object",
  "title": "XDM Decision Activity",
  "description": "A decision activity is used to control the decisioning process. It specifies the filter applied to the total inventory of options to narrow them down by topic/category. The activity also specifies a fall back option should the combined constraints disqualify all narrowed-down options. A decision activity ican be thought of as a type of http://schema.org/Action",
  "definitions": {
    "activity": {
      "properties": {
        "xdm:name": {
          "type": "string",
          "title": "Name",
          "description": "Activity name. The name is displayed in various user interfaces."
        },
        "xdm:startDate": {
          "type": "string",
          "format": "date-time",
          "title": "Start Date and Time",
          "description": "Activity start date and time. Property has the semantic of schema.org's 'startTime' property defined on http://schema.org/Action"
        },
        "xdm:endDate": {
          "type": "string",
          "format": "date-time",
          "title": "End Date and Time",
          "description": "Activity end date and time. Property has the semantic of schema.org's 'endTime' property defined on http://schema.org/Action"
        },
        "xdm:fallback": {
          "type": "string",
          "format": "uri-reference",
          "title": "Fallback Option",
          "description": "The reference to a fallback option that is used when decisioning in the context of this activity does not qualify any of the regular options (this typically happens when hard constraints are applied). The value is the URI (@id) of the fallback option that is referenced."
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "https://ns.adobe.com/xdm/data/record"
    },
    {
      "$ref": "#/definitions/activity"
    },
    {
      "required": ["xdm:name"]
    }
  ]
}

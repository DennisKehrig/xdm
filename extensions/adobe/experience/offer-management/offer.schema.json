{
  "meta:license": [
    "Copyright 2018 Adobe Systems Incorporated. All rights reserved.",
    "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at https://creativecommons.org/licenses/by/4.0/"
  ],
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "https://ns.adobe.com/experience/offer-management/offer",
  "meta:extends": ["https://ns.adobe.com/experience/decisioning/option"],
  "meta:abstract": true,
  "meta:extensible": true,
  "type": "object",
  "title": "Offer",
  "description": "This is the base concept for offers that are used for personalization and those that serve as fallback choices when none of offers for personalization qualify at within the given context.",
  "definitions": {
    "offer": {
      "properties": {
        "xdm:status": {
          "type": "string",
          "title": "Status",
          "description": "Offer Status allows user workflows to be conducted with offers. The status may affect where an offer is visible or considered relevant. Status changes are driven by the clients or services that use offers.",
          "enum": ["draft", "pending", "rejected", "approved", "archived"],
          "meta:enum": {
            "draft": "Draft",
            "pending": "Pending",
            "rejected": "Rejected",
            "approved": "Approved",
            "archived": "Archived"
          }
        },
        "xdm:tags": {
          "type": "array",
          "title": "Tags",
          "description": "The set of tags associated with this offer. The tags are used in offer filter expressions to constrain the overal offer inventory to a topical sub set (category).",
          "items": {
            "type": "string",
            "format": "uri-reference",
            "description": "An identifier of a Tag object. The value is the @id of the Tag that is referenced. See Tag schema https://ns.adobe.com/experience/offer-management/tag"
          }
        },
        "xdm:representations": {
          "type": "array",
          "items": {
            "$ref": "https://ns.adobe.com/experience/offer-management/offer-representation"
          },
          "title": "Representations",
          "description": "Offer representations for different content variants. A single offer can have multiple contents variants. An Offer Representation is the object that connects Offers to Content. Content is information that is directed towards an audience for consumption in a (digital) experience. Content is delivered through channels (or a particular medium). "
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "https://ns.adobe.com/xdm/data/record"
    },
    {
      "$ref": "https://ns.adobe.com/experience/decisioning/option"
    },
    {
      "$ref": "#/definitions/offer"
    },
    {
      "required": ["xdm:name", "xdm:status"]
    }
  ]
}
